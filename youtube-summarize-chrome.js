javascript:(function(){const API_KEY='YOUR_API_KEY_HERE';const videoId=new URLSearchParams(window.location.search).get('v')||window.location.pathname.split('/').pop();if(!videoId){alert('Not a YouTube video page');return;}async function getTranscript(){try{const  ytInitialData=window.ytInitialData;const tracks=ytInitialData?.contents?.twoColumnWatchNextResults?.results?.results?.contents?.[1]?.videoSecondaryInfoRenderer?.videoOwner?.videoOwnerRenderer?.subscriptionButton?.subscriptionButtonRenderer?.channelId;if(tracks){const  response=await fetch(`https://www.youtube.com/api/timedtext?v=${videoId}&fmt=json3&lang=en`);if(response.ok){const data=await response.json();return data.events?.map(e=>e.segs?.map(s=>s.utf8).join('')).join(' ')||'';}}throw new Error('Transcript API  failed');}catch{try{document.querySelector('[aria-label*="transcript" i], [aria-label*="Show transcript" i]')?.click();await new Promise(r=>setTimeout(r,2000));const transcriptElements=document.querySelectorAll('[data-params*="transcript"] [dir="ltr"],  .ytd-transcript-segment-renderer');if(transcriptElements.length>0){return Array.from(transcriptElements).map(el=>el.textContent.trim()).filter(t=>t&&!t.match(/^\d+:\d+$/)).join(' ');}throw new Error('No transcript found');}catch{alert('No transcript available for this  video');return null;}}}async function summarize(text){try{const response=await fetch('https://api.deepseek.com/chat/completions',{method:'POST',headers:{'Content-Type':'application/json','Authorization':`Bearer  ${API_KEY}`},body:JSON.stringify({model:'deepseek-chat',messages:[{role:'user',content:`Summarize this YouTube video transcript in exactly 100 words:\n\n${text}`}],max_tokens:150})});if(!response.ok)throw new Error(`API error: ${response.status}`);const data=await  response.json();return data.choices?.[0]?.message?.content||'Summary generation failed';}catch(e){console.error('DeepSeek API error:',e);return `Error: ${e.message}`;}}function showSummary(summary){const  overlay=document.createElement('div');overlay.style.cssText='position:fixed;top:20px;right:20px;width:350px;max-height:400px;background:white;border:2px solid #ff0000;border-radius:8px;padding:20px;z-index:10000;box-shadow:0 4px 20px  rgba(0,0,0,0.3);font-family:Arial,sans-serif;overflow-y:auto';const  closeBtn=document.createElement('button');closeBtn.textContent='Ã—';closeBtn.style.cssText='position:absolute;top:10px;right:10px;background:none;border:none;font-size:24px;cursor:pointer;color:#999';closeBtn.onclick=()=>overlay.remove();const  title=document.createElement('h3');title.textContent='Video Summary';title.style.cssText='margin:0 0 15px 0;color:#333;font-size:16px;border-bottom:1px solid #eee;padding-bottom:10px';const  content=document.createElement('p');content.textContent=summary;content.style.cssText='margin:0;line-height:1.5;color:#555;font-size:14px';overlay.appendChild(closeBtn);overlay.appendChild(title);overlay.appendChild(content);document.body.appendChild(overlay);}async  function main(){const loadingOverlay=document.createElement('div');loadingOverlay.style.cssText='position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.8);color:white;padding:20px;border-radius:8px;z-index:10001;font-family:Arial,sans-serif'  ;loadingOverlay.textContent='Getting transcript and generating summary...';document.body.appendChild(loadingOverlay);const transcript=await getTranscript();if(!transcript){loadingOverlay.remove();return;}const summary=await  summarize(transcript);loadingOverlay.remove();showSummary(summary);}main();})();
